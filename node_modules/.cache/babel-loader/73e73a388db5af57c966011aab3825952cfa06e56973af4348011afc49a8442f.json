{"ast":null,"code":"var _jsxFileName = \"/Users/rafmillan/react/spotify-app/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from \"react\";\nimport Header from \"./components/Header\";\nimport Dashboard from \"./components/Dashboard\";\nimport LoginButton from \"./components/LoginButton\";\nimport Footer from \"./components/Footer\";\nimport { CLIENT_ID, REDIRECT_URI, AUTH_ENDPOINT, RESPONSE_TYPE } from \"./consts\";\nimport \"./styles/App.css\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getAlbumArtWork(songs) {\n  console.log(songs);\n}\nfunction useLocalStorage(key, initialValue) {\n  _s();\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n  const setValue = value => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n}\n_s(useLocalStorage, \"453BCOsPAHV1f7NiCT6RqgDbZ5M=\");\nexport default function App() {\n  _s2();\n  const [token, setToken] = useLocalStorage(\"token\", \"\");\n  useEffect(() => {\n    const hash = window.location.hash;\n    if (!token && hash) {\n      const newToken = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1];\n      setToken(newToken);\n      window.location.hash = \"\";\n    }\n  }, [setToken, token]);\n  const logout = () => {\n    setToken(\"\");\n    window.localStorage.removeItem(\"user\");\n    window.localStorage.removeItem(\"topSongs\");\n    window.localStorage.removeItem(\"topArtists\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !token ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(LoginButton, {\n        endpoint: AUTH_ENDPOINT,\n        clientId: CLIENT_ID,\n        redirectUri: REDIRECT_URI,\n        responseType: RESPONSE_TYPE\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Dashboard, {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logout-button\",\n        onClick: logout,\n        children: \"back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s2(App, \"VAcLyg1o02vMx4Mi2qIUQpGPINE=\", false, function () {\n  return [useLocalStorage];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Header","Dashboard","LoginButton","Footer","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","useEffect","useState","jsxDEV","_jsxDEV","getAlbumArtWork","songs","console","log","useLocalStorage","key","initialValue","_s","storedValue","setStoredValue","item","window","localStorage","getItem","JSON","parse","error","setValue","value","valueToStore","Function","setItem","stringify","App","_s2","token","setToken","hash","location","newToken","substring","split","find","elem","startsWith","logout","removeItem","children","fileName","_jsxFileName","lineNumber","columnNumber","endpoint","clientId","redirectUri","responseType","className","onClick","_c","$RefreshReg$"],"sources":["/Users/rafmillan/react/spotify-app/src/App.js"],"sourcesContent":["import React from \"react\"\nimport Header from \"./components/Header\"\nimport Dashboard from \"./components/Dashboard\"\nimport LoginButton from \"./components/LoginButton\"\nimport Footer from \"./components/Footer\"\nimport { CLIENT_ID, REDIRECT_URI, AUTH_ENDPOINT, RESPONSE_TYPE } from \"./consts\"\nimport \"./styles/App.css\"\n\nimport { useEffect, useState } from \"react\"\n\nfunction getAlbumArtWork(songs) {\n    console.log(songs);\n}\nfunction useLocalStorage(key, initialValue) {\n    const [storedValue, setStoredValue] = useState(() => {\n        try {\n            const item = window.localStorage.getItem(key)\n            return item ? JSON.parse(item) : initialValue\n        } catch (error) {\n            console.log(error)\n            return initialValue\n        }\n    })\n\n    const setValue = (value) => {\n        try {\n            const valueToStore = value instanceof Function ? value(storedValue) : value\n            setStoredValue(valueToStore)\n            window.localStorage.setItem(key, JSON.stringify(valueToStore))\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    return [storedValue, setValue]\n}\n\nexport default function App() {\n    const [token, setToken] = useLocalStorage(\"token\", \"\")\n\n    useEffect(() => {\n        const hash = window.location.hash\n        if (!token && hash) {\n            const newToken = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\")).split(\"=\")[1]\n            setToken(newToken)\n            window.location.hash = \"\"\n        }\n    }, [setToken, token])\n\n    const logout = () => {\n        setToken(\"\")\n        window.localStorage.removeItem(\"user\")\n        window.localStorage.removeItem(\"topSongs\")\n        window.localStorage.removeItem(\"topArtists\")\n    }\n\n    return (\n        <div>\n            {!token ?\n                <div>\n                    <Header />\n                    <LoginButton\n                        endpoint={AUTH_ENDPOINT}\n                        clientId={CLIENT_ID}\n                        redirectUri={REDIRECT_URI}\n                        responseType={RESPONSE_TYPE}\n                    />\n                    <Footer />\n                </div> :\n                <div>\n                    <Header />\n                    <Dashboard token={token} />\n                    <button className=\"logout-button\" onClick={logout}>back</button>\n                    <Footer />\n                </div>\n            }\n        </div>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}